/*******************/
/* Banner Callout */
/*******************/

/* Position the entire callout absolutely within container */
.callout[data-callout="banner"] {
  /* Remove all callout styling */
  border: none;
  background-color: transparent;
  border-radius: 0;
  box-shadow: none;
  padding: 0;
  margin: 0;
  
  /* Position absolutely to scroll with content */
  position: absolute !important;
  top: 0; /* At top of container, let padding handle content offset */
  left: 0;
  right: 0;
  z-index: -1;
  height: 200px; /* Fixed height for positioning context */
  isolation: isolate; /* Create stacking context */
}

/* Override Obsidian's .callout.callout.callout z-index specificity */
.callout[data-callout="banner"].callout.callout {
  z-index: -1 !important;
}

/* Hide the callout title completely */
.callout[data-callout="banner"] .callout-title {
  display: none;
}

/* Style the content container - remove space so callout takes no room */
.callout[data-callout="banner"] .callout-content {
  /* Remove padding so callout doesn't create scrolling container */
  padding: 0;
  margin: 0;
  background-color: transparent;
  
  /* Ensure content stays above the banner */
  position: relative;
  z-index: -1;
}

/* Remove spacing from image containers */
.callout[data-callout="banner"] .callout-content p {
  margin: 0 !important;
  padding: 0 !important;
}

.callout[data-callout="banner"] .callout-content .internal-embed,
.callout[data-callout="banner"] .callout-content .image-embed {
  display: block;
  margin: 0 !important;
  padding: 0 !important;
}

/* Style the actual img element exactly like Pixel Banner plugin */
.callout[data-callout="banner"] .callout-content img {
  /* Remove absolute positioning - let image display normally within positioned callout */
  /* Ensure image is visible */
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  
  /* Banner sizing and appearance */
  width: 100%;
  height: 225px;
  object-fit: cover; /* Maintain aspect ratio while filling container */
  object-position: center center; /* Center the image */
  
  /* Add rounded corners for edge softening like Pixel Banner plugin */
  /* border-radius: 17px; */
  
  /* Radial edge fuzzing + bottom fade using multiple mask layers */
  mask-image: 
    radial-gradient(ellipse at center, black 25%, transparent 100%),
    linear-gradient(to bottom, black calc(100% - 85px), transparent);
  -webkit-mask-image: 
    radial-gradient(ellipse at center, black 25%, transparent 100%),
    linear-gradient(to bottom, black calc(100% - 85px), transparent);
  
  /* Combine masks using intersection */
  mask-composite: intersect;
  -webkit-mask-composite: source-in;
}

/* Establish positioning context on full-width container for banner */
.markdown-preview-view:has(.callout[data-callout="banner"]) {
  position: relative; /* Positioning context for absolute banner */
}

/* Content overlap - push content down by 145px when banner is present */
.el-div:has(.callout[data-callout="banner"]) {
  /* Remove position: relative - no longer positioning context */
  padding-top: 170px !important;
  margin-top: -45px !important; /* Pull entire container up to true top */
}

.el-div:has(.callout[data-callout="banner"][data-callout-metadata="hwayoung"]) {
  /* Remove position: relative - no longer positioning context */
  padding-top: 160px !important;
  margin-top: -35px !important; /* Pull entire container up to true top */
}